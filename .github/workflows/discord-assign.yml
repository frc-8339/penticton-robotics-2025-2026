name: Discord Notify on Assign

on:
  issues:
    types: [assigned] # This workflow only runs when an issue is assigned

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }} # Store your webhook URL as a repo secret
        run: |
          curl -X POST -H "Content-Type: application/json" \
          -d '{
            "embeds": [{
              "title": "Issue Assigned: ${{ github.event.issue.title }}",
              "url": "${{ github.event.issue.html_url }}",
              "description": "**${{ github.event.assignee.login }}** was assigned to issue #${{ github.event.issue.number }}.",
              "color": "15258703"
            }]
          }' $DISCORD_WEBHOOK_URL
